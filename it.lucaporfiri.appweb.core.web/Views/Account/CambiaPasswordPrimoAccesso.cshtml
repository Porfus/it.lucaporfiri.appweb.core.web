@using it.lucaporfiri.appweb.core.web.ViewModels
@model PrimoAccessoViewModel

@{
    ViewData["Title"] = "Imposta Password";
    Layout = "_LoginLayout"; // Usiamo il layout pulito senza sidebar
}

<div class="login-page-wrapper">
    <div class="login-card">

        <!-- Header -->
        <div class="login-header">
            <div class="login-icon text-warning">
                <!-- Colore giallo per attenzione -->
                <i class="fas fa-lock"></i>
            </div>
            <h1 class="login-title">Primo Accesso</h1>
            <p class="login-subtitle">
                Per la tua sicurezza, devi impostare una nuova password personale prima di continuare.
            </p>
        </div>

        <!-- Form -->
        <form asp-action="CambiaPasswordPrimoAccesso" method="post" class="login-form">

            <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

            <!-- Password Attuale -->
            <div class="form-group">
				<label asp-for="PasswordAttuale" class="form-label">Password Attuale</label>
                <input asp-for="PasswordAttuale" class="form-control-login" placeholder="La password ricevuta dal coach" />
                <span asp-validation-for="PasswordAttuale" class="text-danger"></span>
            </div>

            <!-- Nuova Password -->
            <div class="form-group">
				<label asp-for="NuovaPassword" class="form-label">Nuova Password</label>
                <input asp-for="NuovaPassword" class="form-control-login" placeholder="Minimo 6 caratteri" />
                <span asp-validation-for="NuovaPassword" class="text-danger"></span>
            </div>

            <!-- Conferma -->
            <div class="form-group">
				<label asp-for="ConfermaPassword" class="form-label">Conferma Password</label>
                <input asp-for="ConfermaPassword" class="form-control-login" placeholder="Ripeti la nuova password" />
                <span asp-validation-for="ConfermaPassword" class="text-danger"></span>
            </div>

            <!-- Bottone Submit -->
            <button type="submit" class="btn-login mb-3">
                <i class="fas fa-save me-2"></i> Imposta e Accedi
            </button>

        </form>

        <!-- Link di Logout / Annulla -->
        <div class="text-center mt-3 border-top pt-3">
            <form asp-action="Logout" method="post" id="logoutForm">
                <button type="submit" class="btn btn-link text-secondary text-decoration-none" style="font-size: 0.9rem;">
                    <i class="fas fa-sign-out-alt me-1"></i> Annulla e esci
                </button>
            </form>
        </div>

    </div>
</div>

@section Scripts {
    @await Html.PartialAsync("_ValidationScriptsPartial")
}